<!DOCTYPE html>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
<head>

<!-- Scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="js/main.js"></script>
<link href="css/style.css" type="text/css" rel="stylesheet">
<link rel="apple-touch-icon" href="images/icon.png">
<script>

$(document).ready(function(){

  if (detectmob() == true) {
    $("#mytextarea").width(window.innerWidth-27) + "px";
    $("#copy").width($("#mytextarea").width()/2-30) + "px";
    $("#clear").width($("#mytextarea").width()/2-30) + "px";
  } else {
    $("#mytextarea").width(300) + "px";
    $("#copy").width($("#mytextarea").width()/2-15) + "px";
    $("#clear").width($("#mytextarea").width()/2-15) + "px";
  }

  // Copy button click
  $("button#copy").click(function(){
    var copyTextarea = document.getElementById('mytextarea');
    copyTextarea.focus();
    copyTextarea.select();
    try {
      var successful = document.execCommand('copy');
      var msg = successful ? 'successful' : 'unsuccessful';
      alert('Copied text to Clipboard.');
    } catch (err) {
      alert('Oops, unable to copy');
    }
  });
  // Clear button click
  $("button#clear").click(function(){
    $('textarea#mytextarea').val(""); 
  });
  // Textarea keydown
  $("#mytextarea").keydown(function(e) {
    if (e.which == 13) {
        //var out = getCaretPosition(document.getElementById('mytextarea'));
        var blankSpace = '\u2063';
        insertAtCursor(document.getElementById('mytextarea'), blankSpace);
        //alert(out.start);
    }
  });
});
  
</script>
  
<!-- Content -->
<div><img src="images/logo.png" height="40px" id="logo"></div>
<div style="height: 10px"></div>

</head>
<body>
	<div class="content">
      <div class="btn group">
           <button id="copy" class="ui-button ui-widget ui-corner-all">Copy</button>
           <button id="clear" class="ui-button ui-widget ui-corner-all">Clear</button>
      </div>
      <div style="height: 5px"></div>
      <textarea id="mytextarea" rows="30" cols="40"></textarea>
      <div style="height: 5px"></div>
  </div>
</body>
<p>woo</p>
